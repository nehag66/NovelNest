<form
	class="login-form d-flex flex-column m-4"
	[formGroup]="signUpForm"
	(submit)="onSignUp()"
>
	<mat-form-field class="full-width">
		<mat-label>Name</mat-label>
		<input matInput formControlName="name" />
		<mat-error
			*ngIf="
				signUpForm.get('name')?.invalid &&
				signUpForm.get('name')?.touched
			"
		>
			Enter your full name
		</mat-error>
	</mat-form-field>

	<mat-form-field class="full-width">
		<mat-label>Enter email</mat-label>
		<input matInput formControlName="email" />
		<mat-error
			*ngIf="
				signUpForm.get('email')?.invalid &&
				signUpForm.get('email')?.touched
			"
		>
			Enter a valid email
		</mat-error>
	</mat-form-field>

	<mat-form-field class="full-width">
		<mat-label>Password</mat-label>
		<input
			matInput
			[type]="hidePassword ? 'password' : 'text'"
			formControlName="password"
		/>
		<button
			type="button"
			mat-icon-button
			matSuffix
			(click)="togglePasswordVisibility()"
		>
			<mat-icon>{{
				hidePassword ? 'visibility_off' : 'visibility'
			}}</mat-icon>
		</button>
		<mat-error
			*ngIf="
				signUpForm.get('password')?.invalid &&
				signUpForm.get('password')?.touched
			"
		>
			Password must be at least 6 characters
		</mat-error>
	</mat-form-field>

	<button
		type="submit"
		mat-button
		class="login-signup-btn"
		[disabled]="signUpForm.invalid"
	>
		Sign Up
	</button>
	<p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
</form>
